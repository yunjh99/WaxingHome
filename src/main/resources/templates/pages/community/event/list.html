<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default-layout}">

<head>
    <title>Î©îÏù∏</title>
    <meta name="description" content="Ïä§Î™∞ÏôÅÏã± Ïù¥Î≤§Ìä∏ ÌéòÏù¥ÏßÄ">
    <!-- üîπ ÌéòÏù¥ÏßÄ Ï†ÑÏö© CSS -->
    <th:block layout:fragment="pageCss">
        <link rel="stylesheet" th:href="@{/css/pages/community/event/list.css}">
    </th:block>
</head>
<body>
<!-- ÏÉÅÎã® Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ fragment -->
<section layout:fragment="section-top">
    <div class="page-hero">
        <!-- Ïù¥ÎØ∏ÏßÄ ÏóÜÎäî ÏÉÅÎã® -->
        <div class="page-hero__no-img">
            <nav class="page-nav">
                <ul class="page-nav__list">
                    <li class="page-nav__item page-nav__item--active">
                        <a class="page-nav__link" th:href="@{/community/events}">Ïù¥Î≤§Ìä∏</a>
                    </li>
                    <li class="page-nav__item">
                        <a class="page-nav__link" th:href="@{#}">Í≥µÏßÄÏÇ¨Ìï≠</a>
                    </li>
                    <li class="page-nav__item">
                        <a class="page-nav__link" th:href="@{#}">ÏûêÏ£ºÎ¨ªÎäîÏßàÎ¨∏</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="page-hero__info">
        <h1 class="page-hero__title">Ïù¥Î≤§Ìä∏</h1>
        <p class="page-hero__subtitle">EVENT</p>
    </div>
</section>


<section layout:fragment="content">
    <div class="content">

        <!-- Ïù¥Î≤§Ìä∏ Î™©Î°ù -->
        <div class="event-list">

            <!-- ÏÉÅÎã® Ìó§Îçî(ÌÉÄÏù¥ÌãÄ + Í∏ÄÏì∞Í∏∞) -->
            <div class="event-list__header">
                <h2 class="event-list__title">ÏßÑÌñâ Ï§ë Ïù¥Î≤§Ìä∏</h2>

                <!-- ‚úÖ Í∏ÄÏì∞Í∏∞ Î≤ÑÌäº -->
                <a class="event-list__write"
                   th:href="@{/community/events/form}">
                    Í∏ÄÏì∞Í∏∞
                </a>
            </div>

            <!-- Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏùÑ Îïå -->
            <div class="event-empty" th:if="${events == null or #lists.isEmpty(events.content)}">
                ÏßÑÌñâ Ï§ëÏù∏ Ïù¥Î≤§Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§.
            </div>

            <!-- Ïπ¥Îìú Î¶¨Ïä§Ìä∏ -->
            <ul class="event-cards" th:if="${events != null and !#lists.isEmpty(events.content)}">
                <li class="event-card" th:each="event : ${events.content}">
                    <a class="event-card__link"
                       th:href="@{/view/community/event/{id}(id=${event.id})}">

                        <!-- Ïç∏ÎÑ§Ïùº -->
                        <div class="event-card__thumb">
                            <img class="event-card__img"
                                 th:src="${event.thumbnailUrl}"
                                 th:alt="${event.title}" />
                        </div>

                        <!-- ÌÖçÏä§Ìä∏ -->
                        <div class="event-card__body">
                            <h3 class="event-card__title" th:text="${event.title}">Ïù¥Î≤§Ìä∏ Ï†úÎ™©</h3>
                            <p class="event-card__date">
                                <span th:text="${#temporals.format(event.startDate, 'yyyy.MM.dd')}">2025.01.01</span>
                                ~
                                <span th:text="${#temporals.format(event.endDate, 'yyyy.MM.dd')}">2025.01.31</span>
                            </p>
                        </div>

                    </a>
                </li>
            </ul>

            <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
            <nav class="pagination" th:if="${events != null and events.totalPages > 1}">
                <ul class="pagination__list">

                    <!-- Ïù¥Ï†Ñ -->
                    <li class="pagination__item" th:classappend="${events.first} ? 'is-disabled'">
                        <a class="pagination__link"
                           th:href="${events.first} ? '#' : @{/view/community/event(page=${events.number - 1})}">
                            Ïù¥Ï†Ñ
                        </a>
                    </li>

                    <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ -->
                    <li class="pagination__item"
                        th:each="p : ${#numbers.sequence(0, events.totalPages - 1)}"
                        th:classappend="${p == events.number} ? 'is-active'">
                        <a class="pagination__link"
                           th:href="@{/view/community/event(page=${p})}"
                           th:text="${p + 1}">1</a>
                    </li>

                    <!-- Îã§Ïùå -->
                    <li class="pagination__item" th:classappend="${events.last} ? 'is-disabled'">
                        <a class="pagination__link"
                           th:href="${events.last} ? '#' : @{/view/community/event(page=${events.number + 1})}">
                            Îã§Ïùå
                        </a>
                    </li>

                </ul>
            </nav>

        </div>
    </div>
    <!-- üîπ ÌéòÏù¥ÏßÄ Ï†ÑÏö© JS -->
    <th:block layout:fragment="pageScript">
        <script th:src="@{/js/pages/community/event.js}" defer></script>
    </th:block>
</section>
</body>
</html>
